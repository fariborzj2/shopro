# ูุณุชูุฏุงุช ูพูุชูุฑู ูุฑูุดฺฏุงู ุงูุชุฑูุช

ุงู ูพูุชูุฑู ฺฉ ุณุณุชู ูุฏุฑุช ูุญุชูุง ู ูุฑูุดฺฏุงู ุขููุงู ุณูุงุฑุด (ุจุฏูู ุงุณุชูุงุฏู ุงุฒ ูุฑูโูุฑฺฉโูุง ุณูฺฏู) ุงุณุช ฺฉู ุจุง ุชูุฑฺฉุฒ ุจุฑ ุณุฑุนุชุ ุงููุช ู ุณุงุฏฺฏ ุชูุณุนู ุงูุชู ุงุณุช. ุงู ุณุณุชู ุฏุงุฑุง ูพูู ูุฏุฑุช ฺฉุงูู ู ูุฑูุดฺฏุงู (Storefront) ุจุง ูุงุจูุชโูุง ูุฏุฑู ุงุณุช.

---

## ููุฑุณุช ูุทุงูุจ

1.  [ูฺฺฏโูุง](#ูฺฺฏโูุง)
2.  [ุชฺฉููููฺโูุง ุงุณุชูุงุฏู ุดุฏู](#ุชฺฉููููฺโูุง-ุงุณุชูุงุฏู-ุดุฏู)
3.  [ูุตุจ ู ุฑุงูโุงูุฏุงุฒ](#ูุตุจ-ู-ุฑุงูโุงูุฏุงุฒ)
4.  [ุณุงุฎุชุงุฑ ูพุฑูฺู](#ุณุงุฎุชุงุฑ-ูพุฑูฺู)
5.  [ุณุณุชู ูุงูุจ (Theme System)](#ุณุณุชู-ูุงูุจ-theme-system)
6.  [ุชูุณุนู ู ุดุฎุตโุณุงุฒ](#ุชูุณุนู-ู-ุดุฎุตโุณุงุฒ)
7.  [ุชูุธูุงุช ู ูพฺฉุฑุจูุฏ](#ุชูุธูุงุช-ู-ูพฺฉุฑุจูุฏ)
8.  [ุงููุช](#ุงููุช)

---

## ูฺฺฏโูุง

### ๐ ูุฑูุดฺฏุงู (Storefront)
-   **ููุงุด ูุญุตููุงุช:** ูุณุช ูุญุตููุงุชุ ุฏุณุชูโุจูุฏโูุง ู ุฌุณุชุฌู.
-   **ูุฑุขูุฏ ุฎุฑุฏ:** ุณุจุฏ ุฎุฑุฏ (implied logic)ุ ุซุจุช ุณูุงุฑุด ุจุง ููุฏูุง ุณูุงุฑุด (Custom Fields) ู ุงุชุตุงู ุจู ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช.
-   **ุงุญุฑุงุฒ ููุช:** ูุฑูุฏ ู ุซุจุชโูุงู ุจุง ุดูุงุฑู ููุจุงู ู ฺฉุฏ ฺฉุจุงุฑ ูุตุฑู (OTP).
-   **ูุจูุงฺฏ:** ููุงุด ููุงูุงุชุ ุฏุณุชูโุจูุฏโูุงุ ุชฺฏโูุง ู ุณุณุชู ูุธุฑุงุช.
-   **ุตูุญุงุช ุซุงุจุช:** ุฏุฑุจุงุฑู ูุงุ ุชูุงุณ ุจุง ูุงุ ููุงูู ู ุณูุงูุงุช ูุชุฏุงูู.
-   **ูพูู ฺฉุงุฑุจุฑ:** ูุดุงูุฏู ุณูุงุจู ุณูุงุฑุดุงุช.
-   **ฺูุฏ ูุงูุจู:** ูพุดุชุจุงู ุงุฒ ุชุนูุถ ุขู ูุงูุจ (Theme Switcher).

### โ๏ธ ูพูู ูุฏุฑุช (Admin Panel)
-   **ุฏุงุดุจูุฑุฏ:** ูููุฏุงุฑูุง ูุฑูุด (ููุชฺฏ/ูุงูุงูู)ุ ุขูุงุฑ ฺฉุงุฑุจุฑุงู ู ุณูุงุฑุดุงุช ุงุฎุฑ.
-   **ูุฏุฑุช ูุญุตููุงุช:** ุงูุฒูุฏู/ูุฑุงุด ูุญุตููุ ููุชโฺฏุฐุงุฑุ ุชุตุงูุฑ ฺูุฏฺฏุงูู.
-   **ูุฏุฑุช ุณูุงุฑุดุงุช:** ุชุบุฑ ูุถุนุช ุณูุงุฑุด (ูพุฑุฏุงุฎุช/ุงุฑุณุงู)ุ ูุดุงูุฏู ุฌุฒุฆุงุช ู ููุฏูุง ุณูุงุฑุด.
-   **ูุจูุงฺฏ:** ูุฏุฑุช ฺฉุงูู ูพุณุชโูุงุ ุฏุณุชูโุจูุฏโูุงุ ุชฺฏโูุง ู ูุธุฑุงุช ฺฉุงุฑุจุฑุงู.
-   **ฺฉุงุฑุจุฑุงู:** ูุฏุฑุช ฺฉุงุฑุจุฑุงู ุซุจุชโูุงู ุดุฏู ู ูุฏุฑุงู ุณุณุชู (RBAC).
-   **ุชูุธูุงุช:** ูพฺฉุฑุจูุฏ ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช (ุฒุจุงู)ุ ูพูู ูพุงูฺฉ (IPPanel)ุ ุชูุธูุงุช ุนููู ุณุงุช.
-   **ูุฏุฑุช ูุงู:** ุขูพููุฏ ุณูุชุฑ ุฏุงุฎู ุจุฑุง ุชุตุงูุฑ.

---

## ุชฺฉููููฺโูุง ุงุณุชูุงุฏู ุดุฏู

-   **Backend:** PHP 8.1+ (Native, MVC Architecture)
-   **Database:** MySQL / MariaDB
-   **Frontend:**
    -   Tailwind CSS (Styling)
    -   Alpine.js (Interactivity & State Management)
    -   Swiper.js (Sliders)
    -   Chart.js (Dashboard Charts)
    -   TinyMCE (Rich Text Editor)
-   **Payment:** Zibal Gateway Integration
-   **SMS:** IPPanel Integration

---

## ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

ุจุฑุง ูุตุจ ุณุณุชูุ ูุฑุงุญู ุฒุฑ ุฑุง ุฏูุจุงู ฺฉูุฏ:

1.  **ูพุดโูุงุฒูุง:**
    -   PHP ูุณุฎู 8.0 ุง ุจุงูุงุชุฑ.
    -   ูุงฺููโูุง PHP: `pdo`, `pdo_mysql`, `mbstring`, `curl`, `json`.
    -   ุฏุชุงุจุณ MySQL.

2.  **ุฏุงูููุฏ ูพุฑูฺู:**
    ูุงูโูุง ูพุฑูฺู ุฑุง ุฏุฑ ุฏุงุฑฺฉุชูุฑ ูุจโุณุฑูุฑ ุฎูุฏ (ูุซูุงู `public_html` ุง `htdocs`) ูุฑุงุฑ ุฏูุฏ.

3.  **ุงุฌุฑุง ูุตุจโฺฉููุฏู:**
    -   ูุฑูุฑฺฏุฑ ุฑุง ุจุงุฒ ฺฉูุฏ ู ุจู ุขุฏุฑุณ ุณุงุช ุจุฑูุฏ (ูุซูุงู `http://localhost/install.php`).
    -   **ูุฑุญูู 1:** ุงุทูุงุนุงุช ุฏุชุงุจุณ (ูุงุณุชุ ูุงู ุฏุชุงุจุณุ ูุฒุฑุ ูพุณูุฑุฏ) ุฑุง ูุงุฑุฏ ฺฉูุฏ. ุณุณุชู ูุงู `config.php` ุฑุง ุงุฌุงุฏ ูโฺฉูุฏ.
    -   **ูุฑุญูู 2:** ุณุณุชู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุฌุฏุงูู ุฏุชุงุจุณ ุฑุง ุงุฒ ุฑู ูุงู `schema.sql` ุงุฌุงุฏ ูโฺฉูุฏ.
    -   **ูุฑุญูู 3:** ฺฉ ุญุณุงุจ ฺฉุงุฑุจุฑ "ูุฏุฑ ฺฉู" (Super Admin) ุงุฌุงุฏ ฺฉูุฏ.
    -   ูพุณ ุงุฒ ุงุชูุงูุ ูุงู `install.lock` ุงุฌุงุฏ ูโุดูุฏ ุชุง ุงุฒ ูุตุจ ูุฌุฏุฏ ุฌููฺฏุฑ ฺฉูุฏ. ูพุดููุงุฏ ูโุดูุฏ ูุงู `install.php` ุฑุง ูพุณ ุงุฒ ูุตุจ ุญุฐู ฺฉูุฏ.

4.  **ุชูุธูุงุช ูุจโุณุฑูุฑ (Apache):**
    ูุทูุฆู ุดูุฏ `mod_rewrite` ูุนุงู ุงุณุช. ูุงู `.htaccess` ุฏุฑ ุฑุดู ูพุฑูฺู ุฏุฑุฎูุงุณุชโูุง ุฑุง ุจู `public/index.php` ูุฏุงุช ูโฺฉูุฏ.

---

## ุณุงุฎุชุงุฑ ูพุฑูฺู

```
/
โโโ app/                  # ฺฉุฏูุง ุงุตู ุจฺฉโุงูุฏ (MVC)
โ   โโโ Controllers/      # ฺฉูุชุฑูุฑูุง ูุฏุฑุช ุฏุฑุฎูุงุณุชโูุง
โ   โโโ Core/             # ูุณุชู ุณุณุชู (Router, Database, View, etc.)
โ   โโโ Models/           # ูุฏูโูุง ุงุฑุชุจุงุท ุจุง ุฏุชุงุจุณ
โ   โโโ routes.php        # ุชุนุฑู ูุณุฑูุง
โโโ public/               # ูุงูโูุง ุนููู (CSS, JS, Images, Uploads)
โ   โโโ index.php         # ููุทู ูุฑูุฏ ุจุฑูุงูู (Entry Point)
โโโ storefront/           # ูุงูโูุง ูุฑุจูุท ุจู ุธุงูุฑ ูุฑูุดฺฏุงู
โ   โโโ templates/        # ูุงูโูุง Proxy (ุฑุงุจุท ุณุณุชู ูุงูุจ)
โ   โโโ themes/           # ูพูุดู ูุงูุจโูุง
โ       โโโ template-1/   # ูุงูุจ ูพุดโูุฑุถ
โ       โโโ template-2/   # ูุงูุจ ุฏูู (ุงุณุชุงู ุชูฺฏุฑุงู ูพุฑููู)
โโโ views/                # ูููุง ูพูู ูุฏุฑุช
โโโ config.example.php    # ููููู ูุงู ุชูุธูุงุช
โโโ install.php           # ุงุณฺฉุฑูพุช ูุตุจ
โโโ schema.sql            # ุณุงุฎุชุงุฑ ุฏุชุงุจุณ
```

---

## ุณุณุชู ูุงูุจ (Theme System)

ุงู ูพูุชูุฑู ุงุฒ ฺฉ ุณุณุชู ฺูุฏูุงูุจู (Multi-Theme) ูพุดุชุจุงู ูโฺฉูุฏ ฺฉู ุจุฏูู ุชุบุฑ ุฏุฑ ฺฉุฏูุง ุจฺฉโุงูุฏ ุนูู ูโฺฉูุฏ.

### ูุญูู ฺฉุงุฑ
1.  **ูพุฑุงฺฉุณ (Proxy):** ูุงูโูุง ููุฌูุฏ ุฏุฑ `storefront/templates/` (ูุงููุฏ `index.tpl`) ูุญุชูุง ูุงูุน ุฎูุฏ ุฑุง ูุฏุงุฑูุฏ. ุขูโูุง ุงุฒ `theme_loader.php` ุงุณุชูุงุฏู ูโฺฉููุฏ ุชุง ูุงู ูุฑุจูุทู ุฑุง ุงุฒ ูุงูุจ ูุนุงู ูุฑุงุฎูุงู ฺฉููุฏ.
2.  **ูุงูุจโูุง:** ูุงูุจโูุง ูุงูุน ุฏุฑ `storefront/themes/` ูุฑุงุฑ ุฏุงุฑูุฏ (ูุงููุฏ `template-1` ู `template-2`).
3.  **ุงูุชุฎุงุจ ูุงูุจ:** ูุงูุจ ูุนุงู ุงุฒ ุทุฑู ฺฉูฺฉ `site_theme` ุชุนู ูโุดูุฏ.

### ุชุนูุถ ูุงูุจ
ุจุฑุง ุชุบุฑ ูุงูุจ ุณุงุชุ ฺฉุงูุณุช ูพุงุฑุงูุชุฑ `skin` ุฑุง ุฏุฑ URL ูุฑุงุฎูุงู ฺฉูุฏ:
-   `your-site.com/theme.php?skin=template-1` (ูุงูุจ ูพุดโูุฑุถ)
-   `your-site.com/theme.php?skin=template-2` (ูุงูุจ ุชูฺฏุฑุงู ูพุฑููู)

ุงู ุชูุธูุงุช ุฏุฑ ูุฑูุฑฺฏุฑ ฺฉุงุฑุจุฑ ุฐุฎุฑู ูโุดูุฏ.

---

## ุชูุณุนู ู ุดุฎุตโุณุงุฒ

### ุงูุฒูุฏู ููุฏ ุณูุงุฑุด ุจู ูุญุตููุงุช
ุจุฑุง ูุญุตููุงุช ฺฉู ูุงุฒ ุจู ุฏุฑุงูุช ุงุทูุงุนุงุช ุงุถุงู ุงุฒ ฺฉุงุฑุจุฑ ุฏุงุฑูุฏ (ูุซู ุขุฏ ุงูุณุชุงฺฏุฑุงู)ุ ูโุชูุงูุฏ ุงุฒ ุจุฎุด ูุฏุฑุชุ ุจุฑุง ุฏุณุชูโุจูุฏ ูุฑุจูุทู "ููุฏูุง ุณูุงุฑุด" ุชุนุฑู ฺฉูุฏ. ุงู ููุฏูุง ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุฏุฑ ุตูุญู ูุญุตูู ู ุณุจุฏ ุฎุฑุฏ ููุงุด ุฏุงุฏู ูโุดููุฏ.

### ุงุฌุฑุง ููฺฉุงู (Development)
ุงฺฏุฑ PHP CLI ูุตุจ ุฏุงุฑุฏุ ูโุชูุงูุฏ ุณุฑูุฑ ุฏุงุฎู ุฑุง ุงุฌุฑุง ฺฉูุฏ:
```bash
php -S 0.0.0.0:8000 -t public
```
ุณูพุณ ุจู `http://localhost:8000` ูุฑุงุฌุนู ฺฉูุฏ.

---

## ุชูุธูุงุช ู ูพฺฉุฑุจูุฏ

ูุงู `config.php` (ฺฉู ุชูุณุท ูุตุจโฺฉููุฏู ุณุงุฎุชู ูโุดูุฏ) ุญุงู ุชูุธูุงุช ุฏุชุงุจุณ ุงุณุช:
```php
return [
    'database' => [
        'host' => 'localhost',
        'dbname' => '...',
        'user' => '...',
        'password' => '...',
        'charset' => 'utf8mb4'
    ]
];
```

ุณุงุฑ ุชูุธูุงุช (ุนููุงู ุณุงุชุ ฺฉูุฏูุง API ูพุงูฺฉ ู ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช) ุงุฒ ุทุฑู **ูพูู ูุฏุฑุช > ุชูุธูุงุช** ูุงุจู ูุฑุงุด ูุณุชูุฏ ู ุฏุฑ ุฏุชุงุจุณ ุฐุฎุฑู ูโุดููุฏ.

---

## ุงููุช

-   **CSRF Protection:** ุชูุงู ูุฑูโูุง POST ุฏุงุฑุง ุชูฺฉู ุงููุช CSRF ูุณุชูุฏ ฺฉู ูพุณ ุงุฒ ูุฑ ุฏุฑุฎูุงุณุช ุจุงุฒุชููุฏ ูโุดูุฏ.
-   **XSS Protection:** ุฏุงุฏูโูุง ูุฑูุฏ ุฏุฑ ูููุง ุชูุณุท `htmlspecialchars` ุงูู ูโุดููุฏ (ูฺฏุฑ ุฏุฑ ููุงุฑุฏ ุฎุงุต ูุซู ุงุฏุชูุฑ ูุชู ฺฉู ุงุฒ `strip_tags` ฺฉูุชุฑู ุดุฏู ุงุณุชูุงุฏู ูโุดูุฏ).
-   **Password Hashing:** ุฑูุฒูุง ุนุจูุฑ ุจุง ุงูฺฏูุฑุชูโูุง ุงุณุชุงูุฏุงุฑุฏ PHP (`password_hash`) ุฐุฎุฑู ูโุดููุฏ.
-   **Access Control:** ุฏุณุชุฑุณ ุจู ูพูู ูุฏุฑุช ูุญุฏูุฏ ุจู ุงุฏููโูุง ุงุญุฑุงุฒ ููุช ุดุฏู ุงุณุช ู ููุดโูุง ฺฉุงุฑุจุฑ (Super Admin vs Admin) ุงุนูุงู ูโุดูุฏ.
