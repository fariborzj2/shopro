# راهنمای کامل نصب و راه‌اندازی پروژه (از صفر تا صد)

این راهنما شما را قدم به قدم برای نصب و اجرای کامل پروژه از زمانی که فایل‌ها را دریافت کرده‌اید، راهنمایی می‌کند.

---

### پیش‌نیازها: محیط اجرایی

قبل از شروع، شما به یک محیط توسعه وب روی سیستم خود نیاز دارید. این محیط باید شامل موارد زیر باشد:
1.  **وب سرور:** مانند Apache یا Nginx.
2.  **دیتابیس:** MySQL یا MariaDB.
3.  **PHP:** نسخه 7.4 یا بالاتر.

**ساده‌ترین راه:** نصب یک پکیج آماده مانند **XAMPP** یا **WAMP** (برای ویندوز) یا **MAMP** (برای مک) است. این پکیج‌ها تمام ابزارهای لازم را به صورت یکجا نصب می‌کنند. این راهنما با فرض استفاده از XAMPP نوشته شده است.

---

### مرحله ۱: ایجاد دیتابیس

اسکریپت نصب‌کننده پروژه، جداول را به صورت خودکار می‌سازد، اما ابتدا شما باید یک دیتابیس خام و خالی برای آن ایجاد کنید.

1.  **کنترل پنل XAMPP** را باز کرده و سرویس‌های **Apache** و **MySQL** را استارت کنید.
2.  مرورگر خود را باز کرده و به آدرس `http://localhost/phpmyadmin` بروید.
3.  روی تب **Databases** کلیک کنید.
4.  در قسمت `Create database`، یک نام برای دیتابیس خود انتخاب کنید (مثلاً `my_project_db`).
5.  در منوی کشویی `Collation`، مقدار `utf8mb4_unicode_ci` را انتخاب کنید تا از زبان فارسی به درستی پشتیبانی شود.
6.  روی دکمه **Create** کلیک کنید.

**نکته:** نام دیتابیس، نام کاربری دیتابیس (که در XAMPP معمولاً `root` است) و رمز عبور (که در XAMPP به صورت پیش‌فرض خالی است) را به خاطر بسپارید.

---

### مرحله ۲: اجرای نصب‌کننده گرافیکی

حالا که دیتابیس آماده است، از نصب‌کننده خودکار پروژه استفاده می‌کنیم.

1.  پوشه پروژه که از گیت دانلود کرده‌اید را در مسیر وب‌سرور خود کپی کنید. در XAMPP، این مسیر پوشه `htdocs` است. (مثلاً: `C:\xampp\htdocs\my-project`)
2.  مرورگر خود را باز کرده و به آدرس اسکریپت نصب بروید:
    ```
    http://localhost/my-project/install.php
    ```
    (به جای `my-project`، نام پوشه پروژه خود را قرار دهید.)

3.  **مرحله اول نصب (تنظیمات دیتابیس):**
    *   **هاست دیتابیس:** `localhost`
    *   **نام دیتابیس:** نامی که در مرحله قبل انتخاب کردید (مثلاً `my_project_db`).
    *   **نام کاربری دیتابیس:** `root` (مگر اینکه آن را تغییر داده باشید).
    *   **رمز عبور دیتابیس:** خالی بگذارید (مگر اینکه رمزی تنظیم کرده باشید).
    *   روی دکمه "تأیید و ادامه" کلیک کنید. اگر اطلاعات صحیح باشد، به مرحله بعد می‌روید.

4.  **مرحله دوم نصب (ساخت جداول):** این مرحله به صورت خودکار انجام شده و شما یک نوار پیشرفت را مشاهده خواهید کرد.

5.  **مرحله سوم نصب (ایجاد حساب ادمین):**
    *   یک نام، نام کاربری (انگلیسی)، ایمیل و رمز عبور قوی برای مدیر اصلی سایت وارد کنید.
    *   روی دکمه "ایجاد ادمین" کلیک کنید.

6.  **پایان نصب:** اگر همه چیز به درستی انجام شود، پیام "نصب با موفقیت انجام شد!" را خواهید دید.

---

### مرحله ۳: تنظیم مسیر اصلی وب‌سایت (بسیار مهم)

برای امنیت و عملکرد صحیح، مسیر اصلی (Document Root) وب‌سایت شما باید روی پوشه `public` تنظیم شود.

#### روش الف: استفاده از سرور داخلی PHP (ساده و سریع)

این روش برای توسعه محلی بسیار مناسب است.
1.  **ترمینال** یا **Command Prompt** را باز کنید.
2.  با دستور `cd` به مسیر اصلی پوشه پروژه خود بروید (مثلاً: `cd C:\xampp\htdocs\my-project`).
3.  دستور زیر را اجرا کنید:
    ```bash
    php -S localhost:8000 -t public
    ```
4.  تمام شد! حالا سایت شما در آدرس `http://localhost:8000` در دسترس است.

#### روش ب: تنظیم Virtual Host در Apache (حرفه‌ای و مناسب تولید)

این روش ساختار استانداردتری دارد.
1.  فایل تنظیمات Virtual Hosts آپاچی را پیدا و باز کنید. در XAMPP این فایل در مسیر زیر قرار دارد:
    `C:\xampp\apache\conf\extra\httpd-vhosts.conf`
2.  کد زیر را به انتهای فایل اضافه کنید و مسیرها را مطابق با سیستم خود تغییر دهید:

    ```apache
    <VirtualHost *:80>
        DocumentRoot "C:/xampp/htdocs/my-project/public"
        ServerName my-project.local
        <Directory "C:/xampp/htdocs/my-project/public">
            AllowOverride All
            Require all granted
        </Directory>
    </VirtualHost>
    ```

3.  فایل `hosts` سیستم‌عامل خود را ویرایش کنید تا دامنه `my-project.local` به سیستم شما اشاره کند.
    *   **در ویندوز:** `C:\Windows\System32\drivers\etc\hosts`
    *   خط زیر را به انتهای آن اضافه کنید:
        ```
        127.0.0.1   my-project.local
        ```
4.  سرویس **Apache** را از کنترل پنل XAMPP یک بار **Stop** و سپس **Start** کنید.
5.  حالا سایت شما در آدرس `http://my-project.local` در دسترس است.

---

### مرحله ۴: اقدامات نهایی و امنیتی

1.  **ورود به پنل مدیریت:**
    *   به آدرس `http://localhost:8000/admin/login` (یا `http://my-project.local/admin/login`) بروید و با اطلاعات ادمینی که در مرحله نصب ساختید، وارد شوید.

2.  **حذف فایل نصب‌کننده (بسیار مهم):**
    *   برای جلوگیری از نصب مجدد و مشکلات امنیتی، فایل `install.php` را از ریشه پروژه خود **حذف کنید**.

اکنون پروژه شما به طور کامل نصب و آماده استفاده است. موفق باشید!

---

---

## راهنمای نصب در هاست اشتراكى (cPanel)

نصب در cPanel تفاوت‌های کلیدی با نصب در کامپیوتر شخصی دارد. لطفاً مراحل زیر را با دقت دنبال کنید.

### مرحله ۱: آپلود فایل‌های پروژه

1.  از تمام فایل‌های پروژه یک فایل فشرده `.zip` بسازید.
2.  وارد حساب cPanel خود شوید.
3.  به بخش **File Manager** بروید.
4.  به پوشه `public_html` (یا پوشه مربوط به دامنه‌ای که می‌خواهید سایت را روی آن نصب کنید) بروید.
5.  روی **Upload** کلیک کرده و فایل `.zip` را آپلود کنید.
6.  پس از اتمام آپلود، روی فایل `.zip` راست‌کلیک کرده و گزینه **Extract** را انتخاب کنید تا فایل‌ها از حالت فشرده خارج شوند.

### مرحله ۲: ایجاد دیتابیس و کاربر در cPanel

در cPanel، شما باید هم دیتابیس و هم یک کاربر برای آن دیتابیس ایجاد کنید.

1.  در صفحه اصلی cPanel، به بخش **MySQL® Database Wizard** بروید.
2.  **Step 1: Create A Database:** یک نام برای دیتابیس خود وارد کرده و روی **Next Step** کلیک کنید. (مثال: `myuser_projectdb`)
3.  **Step 2: Create Database Users:** یک نام کاربری و یک رمز عبور قوی برای کاربر دیتابیس وارد کنید. رمز عبور را حتماً در جایی امن یادداشت کنید. روی **Create User** کلیک کنید. (مثال: `myuser_dbuser`)
4.  **Step 3: Add User to Database:** در این مرحله، تیک گزینه **ALL PRIVILEGES** را بزنید تا تمام دسترسی‌های لازم به کاربر داده شود. سپس روی **Make Changes** کلیک کنید.
5.  اطلاعات کامل دیتابیس (نام دیتابیس، نام کاربری و رمز عبور) را که cPanel به شما می‌دهد، یادداشت کنید.

### مرحله ۳: اجرای نصب‌کننده وب

1.  مرورگر خود را باز کرده و به آدرس اسکریپت نصب بروید:
    `http://yourdomain.com/install.php`
2.  اطلاعات دیتابیسی را که در مرحله قبل ایجاد کردید، در فرم نصب وارد کنید:
    *   **هاست دیتابیس:** `localhost` (در اکثر هاست‌های اشتراکی همین مقدار است).
    *   **نام دیتابیس:** نام کامل دیتابیس که cPanel ساخته است (مثال: `myuser_projectdb`).
    *   **نام کاربری دیتابیس:** نام کامل کاربری که cPanel ساخته است (مثال: `myuser_dbuser`).
    *   **رمز عبور دیتابیس:** رمز عبوری که برای کاربر دیتابیس تعیین کردید.
3.  مراحل نصب را مانند راهنمای نصب محلی (Local) ادامه دهید تا حساب ادمین ساخته شده و پیام موفقیت‌آمیز بودن نصب را ببینید.

### مرحله ۴: تنظیم مسیر دامنه (Document Root)

این مهم‌ترین و حساس‌ترین مرحله است. برای امنیت، باید مسیر دامنه یا زیردامنه شما به پوشه `public` پروژه اشاره کند.

#### اگر سایت را روی دامنه اصلی (Primary Domain) نصب می‌کنید:

این کار معمولاً توصیه نمی‌شود، زیرا تغییر Document Root دامنه اصلی ممکن است پیچیده باشد. بهترین راه، استفاده از یک زیردامنه است. اما اگر اصرار دارید، باید فایل‌های پروژه را طوری جابجا کنید که محتویات پوشه `public` مستقیماً داخل `public_html` قرار بگیرد و بقیه فایل‌های پروژه (app, views, ...) یک سطح بالاتر از `public_html` باشند. این کار پیشرفته است و ممکن است نیاز به کمک پشتیبانی هاست داشته باشد.

#### روش پیشنهادی: استفاده از زیردامنه (Subdomain)

1.  در صفحه اصلی cPanel، به بخش **Domains** یا **Subdomains** بروید.
2.  یک زیردامنه جدید ایجاد کنید (مثال: `shop.yourdomain.com`).
3.  در فیلد **Document Root**، cPanel به صورت پیش‌فرض مسیری مانند `public_html/shop` را پیشنهاد می‌دهد. **شما باید آن را به مسیر پوشه `public` پروژه خود تغییر دهید.**
    *   مسیر صحیح باید چیزی شبیه به این باشد: `public_html/my-project/public`
    (به جای `my-project` نام پوشه‌ای که فایل‌های پروژه در آن قرار دارد را وارد کنید).
4.  روی **Create** کلیک کنید.

cPanel به صورت خودکار تنظیمات لازم را برای وب‌سرور انجام می‌دهد تا تمام درخواست‌های `shop.yourdomain.com` به پوشه `public` هدایت شوند.

### مرحله ۵: اقدامات نهایی

1.  مطمئن شوید که سایت از طریق دامنه یا زیردامنه جدید شما به درستی بارگذاری می‌شود.
2.  وارد پنل مدیریت شوید (`http://shop.yourdomain.com/admin/login`).
3.  فایل `install.php` را از طریق **File Manager** در cPanel **حذف کنید**.

نصب شما با موفقیت به پایان رسید!
